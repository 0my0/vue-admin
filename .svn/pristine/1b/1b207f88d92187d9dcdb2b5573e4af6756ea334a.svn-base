{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5e68af98\"],{\"2ebc\":function(e,t,n){\"use strict\";var o=n(\"e271\"),a=n.n(o);a.a},\"782e\":function(e,t,n){\"use strict\";n(\"456d\"),n(\"ac6a\");t[\"a\"]={JsonData:function(e){var t=new FormData;return Object.keys(e).forEach(function(n){t.append(\"data[\"+n+\"]\",e[n])}),t}}},\"7b4f\":function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"app-container\"},[n(\"el-row\",[n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.handleAddCurrency}},[e._v(\"添加货币\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-edit\"},on:{click:e.installCountry}},[e._v(\"一键修改\")]),e._v(\" \"),n(\"el-dialog\",{attrs:{title:\"添加/修改人员\",visible:e.dialogEditFormVisible,title:\"add\"===e.dialogType?\"添加站点\":\"修改站点\"},on:{\"update:visible\":function(t){e.dialogEditFormVisible=t}}},[n(\"el-form\",{attrs:{model:e.editCurrencyForm}},[n(\"el-form-item\",{attrs:{label:\"货币代码\",\"label-width\":e.formLabelWidth}},[n(\"el-input\",{attrs:{autocomplete:\"off\",disabled:\"edit\"===e.dialogType},model:{value:e.editCurrencyForm.country_name,callback:function(t){e.$set(e.editCurrencyForm,\"country_name\",t)},expression:\"editCurrencyForm.country_name\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"名称\",\"label-width\":e.formLabelWidth}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editCurrencyForm.country,callback:function(t){e.$set(e.editCurrencyForm,\"country\",t)},expression:\"editCurrencyForm.country\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"单位\",\"label-width\":e.formLabelWidth}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editCurrencyForm.stamp,callback:function(t){e.$set(e.editCurrencyForm,\"stamp\",t)},expression:\"editCurrencyForm.stamp\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"汇率\",\"label-width\":e.formLabelWidth}},[n(\"el-input-number\",{attrs:{\"controls-position\":\"right\",min:0},model:{value:e.editCurrencyForm.exchange_rate,callback:function(t){e.$set(e.editCurrencyForm,\"exchange_rate\",t)},expression:\"editCurrencyForm.exchange_rate\"}})],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.dialogEditFormVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.createCountry}},[e._v(\"确 定\")])],1)],1)],1),e._v(\" \"),n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",\"default-sort\":{prop:\"currency_code\",order:\"descending\"}},on:{\"row-contextmenu\":e.rightClick}},[n(\"el-table-column\",{attrs:{prop:\"country_name\",label:\"货币代码\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"country\",label:\"名称\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"stamp\",label:\"单位\"}}),e._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"exchange_rate\",label:\"汇率\"}})],1),e._v(\" \"),n(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.optionVisible,expression:\"optionVisible\"}],staticClass:\"contextmenu\",style:{left:e.left+\"px\",top:e.top+\"px\"}},[n(\"li\",{on:{click:e.handleEditCurrency}},[e._v(\"修改货币信息\")]),e._v(\" \"),n(\"li\",{on:{click:e.deleteCountry}},[e._v(\"删除货币信息\")])])],1)},a=[],r=n(\"e2da\"),i=n(\"5f87\"),c=n(\"782e\"),u={name:\"currencyExchangeRate\",data:function(){return{tableData:[],token:Object(i[\"a\"])(),dialogEditFormVisible:!1,optionVisible:!1,dialogType:\"add\",formLabelWidth:\"120px\",countryId:\"\",left:\"0px\",top:\"0px\",editCurrencyForm:{country_name:\"\",country:\"\",stamp:\"\",exchange_rate:\"0.0000\"}}},methods:{getCountryIndex:function(){var e=this;r[\"a\"].getCountryIndex(this.token).then(function(t){e.tableData=t.data,e.countryId=t.data.country_id})},createCountry:function(){var e=this,t=c[\"a\"].JsonData(this.editCurrencyForm),n=\"add\"===this.dialogType;n?r[\"a\"].createCountry(t,this.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getCountryIndex(),e.closeDialog()}):r[\"a\"].editCountry(t,this.countryId,this.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getCountryIndex(),e.closeDialog()}),this.editCurrencyForm={country_name:\"\",country:\"\",stamp:\"\",exchange_rate:\"0.0000\"}},deleteCountry:function(){var e=this;this.$confirm(\"此操作将永久删除该文件, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){r[\"a\"].deleteCountry(e.countryId,e.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getCountryIndex(),e.closeDialog()})}).catch(function(){e.$message({type:\"info\",message:\"已取消删除\"})})},handleAddCurrency:function(){this.dialogType=\"add\",this.dialogEditFormVisible=!0},installCountry:function(){var e=this;r[\"a\"].installCountry(this.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getCountryIndex()})},handleEditCurrency:function(){this.dialogType=\"edit\",this.dialogEditFormVisible=!0},closeDialog:function(){this.dialogEditFormVisible=!1},closeMenu:function(){this.optionVisible=!1},rightClick:function(e,t,n){n.preventDefault(),this.publicMenu(n),console.log(e),this.countryId=e.country_id,this.editCurrencyForm={country_name:e.country_name,country:e.country,stamp:e.stamp,exchange_rate:e.exchange_rate},this.optionVisible=!0},publicMenu:function(e){var t=105,n=this.$el.getBoundingClientRect().left,o=this.$el.offsetWidth,a=o-t,r=e.clientX-n+15;this.left=r>a?a:r,this.top=e.clientY-80}},created:function(){this.getCountryIndex()},watch:{optionVisible:function(e){e?document.body.addEventListener(\"click\",this.closeMenu):document.body.removeEventListener(\"click\",this.closeMenu)}}},l=u,s=(n(\"2ebc\"),n(\"2877\")),d=Object(s[\"a\"])(l,o,a,!1,null,\"6ee1eaf3\",null);t[\"default\"]=d.exports},b0b4:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return i});var o=n(\"85f2\"),a=n.n(o);function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),a()(e,o.key,o)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},d225:function(e,t,n){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}n.d(t,\"a\",function(){return o})},e271:function(e,t,n){},e2da:function(e,t,n){\"use strict\";var o=n(\"d225\"),a=n(\"b0b4\"),r=n(\"b775\"),i=function(){function e(){Object(o[\"a\"])(this,e)}return Object(a[\"a\"])(e,[{key:\"getRoleIndex\",value:function(e){return Object(r[\"a\"])({url:\"/role/index\",method:\"get\",params:{token:e}})}},{key:\"createRole\",value:function(e,t){return Object(r[\"a\"])({url:\"/role/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"deleteRole\",value:function(e,t){return Object(r[\"a\"])({url:\"/role/delete\",method:\"get\",params:{role_id:e,token:t}})}},{key:\"getAdminIndex\",value:function(e,t){return Object(r[\"a\"])({url:\"/admin/index\",method:\"get\",params:{role_id:e,token:t}})}},{key:\"createPerson\",value:function(e,t){return Object(r[\"a\"])({url:\"/admin/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"modifyPerson\",value:function(e,t,n){return Object(r[\"a\"])({url:\"/admin/edit?token=\".concat(t,\"&admin_id=\").concat(n),method:\"post\",data:e})}},{key:\"deletePerson\",value:function(e,t){return Object(r[\"a\"])({url:\"admin/delete\",method:\"get\",params:{admin_id:e,token:t}})}},{key:\"searchPeople\",value:function(e,t){return Object(r[\"a\"])({url:\"/admin/index?token=\".concat(t),method:\"post\",data:e})}},{key:\"getSiteIndex\",value:function(e){return Object(r[\"a\"])({url:\"/site/index\",method:\"get\",params:{token:e}})}},{key:\"createSite\",value:function(e,t){return Object(r[\"a\"])({url:\"/site/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"editSite\",value:function(e,t,n){return Object(r[\"a\"])({url:\"/site/edit?site_id=\".concat(t,\"&token=\").concat(n),method:\"post\",data:e})}},{key:\"deleteSite\",value:function(e,t){return Object(r[\"a\"])({url:\"/site/delete\",method:\"get\",params:{site_id:e,token:t}})}},{key:\"getCountryIndex\",value:function(e){return Object(r[\"a\"])({url:\"/country/index\",method:\"get\",params:{token:e}})}},{key:\"createCountry\",value:function(e,t){return Object(r[\"a\"])({url:\"/country/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"installCountry\",value:function(e){return Object(r[\"a\"])({url:\"/country/install\",method:\"get\",params:{token:e}})}},{key:\"editCountry\",value:function(e,t,n){return Object(r[\"a\"])({url:\"/country/edit?country_id=\".concat(t,\"&token=\").concat(n),method:\"post\",data:e})}},{key:\"deleteCountry\",value:function(e,t){return Object(r[\"a\"])({url:\"/country/delete\",method:\"get\",params:{country_id:e,token:t}})}},{key:\"getGameIndex\",value:function(e){return Object(r[\"a\"])({url:\"/game/index\",method:\"get\",params:{token:e}})}},{key:\"createGame\",value:function(e,t){return Object(r[\"a\"])({url:\"/game/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"editGame\",value:function(e,t,n){return Object(r[\"a\"])({url:\"/game/edit?game_id=\".concat(t,\"&token=\").concat(n),method:\"post\",data:e})}},{key:\"getGameConfigIndex\",value:function(e,t){return Object(r[\"a\"])({url:\"/sitegame/edit\",method:\"get\",params:{site_id:e,token:t}})}},{key:\"saveGameConfigIndex\",value:function(e,t,n){return Object(r[\"a\"])({url:\"/sitegame/edit?site_id=\".concat(t,\"&token=\").concat(n),method:\"post\",data:e})}}]),e}();t[\"a\"]=new i}}]);","extractedComments":[]}
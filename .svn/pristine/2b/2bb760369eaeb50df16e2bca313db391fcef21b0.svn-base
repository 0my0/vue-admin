{"remainingRequest":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vueProject\\admin\\vue-element-admin\\src\\views\\system-manager\\mail-account.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vueProject\\admin\\vue-element-admin\\src\\views\\system-manager\\mail-account.vue","mtime":1576488045132},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:\\\\vueProject\\\\admin\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _systemManager = _interopRequireDefault(require(\"@/api/system-manager\"));\n\nvar _auth = require(\"@/utils/auth\");\n\nvar _jsonformdata = _interopRequireDefault(require(\"@/api/jsonformdata\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'mail-account',\n  data: function data() {\n    return {\n      tableData: [],\n      token: (0, _auth.getToken)(),\n      dialogFormVisible: false,\n      formLabelWidth: '120px',\n      siteId: '',\n      siteData: [],\n      dialogType: '',\n      form: {\n        site_id: '',\n        smtp: '',\n        port: '',\n        username: '',\n        password: '',\n        from: ''\n      }\n    };\n  },\n  methods: {\n    getMailAccountIndex: function getMailAccountIndex() {\n      var _this = this;\n\n      _systemManager.default.getMailAccountIndex(this.token).then(function (data) {\n        _this.tableData = data.data;\n      });\n    },\n    getSiteIndex: function getSiteIndex() {\n      var _this2 = this;\n\n      _systemManager.default.getSiteIndex(this.token).then(function (data) {\n        _this2.siteData = data.data;\n      });\n    },\n    createMail: function createMail() {\n      var _this3 = this;\n\n      var postData = _jsonformdata.default.JsonData(this.form);\n\n      if (this.dialogType == 'add') {\n        _systemManager.default.createMail(postData, this.token).then(function (data) {\n          _this3.$message({\n            message: data.data.log,\n            type: 'success'\n          });\n\n          _this3.closeDialog();\n\n          _this3.getMailAccountIndex();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        _systemManager.default.editMail(postData, this.siteId, this.token).then(function (data) {\n          _this3.$message({\n            message: data.data.log,\n            type: 'success'\n          });\n\n          _this3.closeDialog();\n\n          _this3.getMailAccountIndex();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n    editMail: function editMail(row) {\n      console.log(row);\n      this.siteId = row.site_id;\n      this.form = {\n        site_id: row.site_id,\n        smtp: row.smtp,\n        port: row.port,\n        username: row.username,\n        password: row.password,\n        from: row.from\n      };\n      this.dialogType = 'edit';\n      this.dialogFormVisible = true;\n    },\n    showDialog: function showDialog() {\n      this.form = {\n        site_id: '',\n        smtp: '',\n        port: '',\n        username: '',\n        password: '',\n        from: ''\n      };\n      this.dialogFormVisible = true;\n      this.dialogType = 'add';\n    },\n    closeDialog: function closeDialog() {\n      this.dialogFormVisible = false;\n    }\n  },\n  created: function created() {\n    this.getMailAccountIndex();\n    this.getSiteIndex();\n  }\n};\nexports.default = _default;",null]}
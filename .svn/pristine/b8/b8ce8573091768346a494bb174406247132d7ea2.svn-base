{"remainingRequest":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\goldordermanager\\gold-order-detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\goldordermanager\\gold-order-detail.vue","mtime":1578735001695},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:\\\\vueProject\\\\admin\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nvar _sales = _interopRequireDefault(require(\"@/api/sales\"));\n\nvar _auth = require(\"@/utils/auth\");\n\nvar _jsonformdata = _interopRequireDefault(require(\"@/api/jsonformdata\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'gold-order-detail',\n  data: function data() {\n    return {\n      formLabelWidth: '90px',\n      token: (0, _auth.getToken)(),\n      orderId: '',\n      tableData: '',\n      descData: [],\n      dataArr2: [],\n      formInline: {\n        note: ''\n      },\n      tableList: [],\n      emailList: [],\n      payData: [],\n      goodsData: [],\n      activeName: 'first',\n      uploadData: {\n        dataType: \"0\",\n        oldFilePath: \"\"\n      }\n    };\n  },\n  methods: {\n    getOrderDetail: function getOrderDetail() {\n      var _this = this;\n\n      _sales.default.getOrderDetail(this.orderId, this.token).then(function (data) {\n        _this.tableData = data.data;\n        _this.tableList = _this.tableData.list;\n        _this.emailList = _this.tableData.email_list;\n        _this.payData = _this.tableData.payed;\n        _this.goodsData = _this.tableData.goods;\n\n        if (_this.tableData.log) {\n          if (_this.tableData.log.desc) {\n            for (var key in _this.tableData.log.desc) {\n              var value = _this.tableData.log.desc[key];\n              var Obj = {};\n              Obj[key] = value;\n              _this.dataArr2 = _this.dataArr2.concat(JSON.stringify(Obj).replace(\"{\", \"\").replace(\"}\", \"\").replace('\"', \"\").replace('\"', \"\").split('</br>'));\n            }\n          }\n        }\n      });\n    },\n    imgClick: function imgClick($event) {\n      console.log($event);\n\n      if ($event.currentTarget.className == 'img') {\n        $event.currentTarget.className = 'img open';\n      } else {\n        $event.currentTarget.className = 'img';\n      }\n    },\n    uploadActionUrl: function uploadActionUrl() {\n      // this.getOrderDetail();\n      return 'order/upload/order_id/' + this.orderId + '/token/' + this.token;\n    },\n    handlePreview: function handlePreview() {\n      this.getOrderDetail();\n    },\n    isHidden: function isHidden(a, b, c) {\n      var data1 = this.tableData[a];\n\n      if (data1) {\n        var data2 = this.tableData[a][b];\n\n        if (data2) {\n          var data3 = this.tableData[a][b][c];\n\n          if (data3) {\n            return data3;\n          } else {\n            data3 = '';\n          }\n        } else {\n          data2 = '';\n        }\n      } else {\n        data1 = '';\n      }\n    },\n    addOrderLog: function addOrderLog() {\n      var _this2 = this;\n\n      var postData = _jsonformdata.default.JsonData(this.formInline);\n\n      _sales.default.addOrderLog(postData, this.orderId, this.token).then(function (data) {\n        _this2.$message({\n          message: data.data.log,\n          type: 'success'\n        });\n\n        _this2.getOrderDetail();\n\n        _this2.formInline = {\n          note: ''\n        };\n      });\n    }\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    if (to.name == 'goldOrderManager') {\n      to.meta.isUseCache = true;\n    }\n\n    next();\n  },\n  watch: {\n    $route: {\n      handler: function handler(route) {\n        this.orderId = this.$route.query.id;\n      },\n      immediate: true\n    }\n  },\n  created: function created() {\n    this.getOrderDetail();\n  }\n};\nexports.default = _default;",null]}
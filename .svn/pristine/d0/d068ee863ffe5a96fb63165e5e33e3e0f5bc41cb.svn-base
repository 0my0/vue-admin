{"remainingRequest":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vueProject\\admin\\vue-element-admin\\src\\views\\system-manager\\payment-method-config.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vueProject\\admin\\vue-element-admin\\src\\views\\system-manager\\payment-method-config.vue","mtime":1576646322784},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SystemManager from '@/api/system-manager';\nimport { getToken} from  '@/utils/auth';\nimport toJsonData from '@/api/jsonformdata'\nexport default {\n  name:'payment-method-config',\n  data() {\n    return{\n      tableData:[],\n      token: getToken(),\n      dialogFormVisible: false,\n      formLabelWidth:'120px',\n      editPaymentForm:{\n        name:'',\n        code:'',\n        is_open:false\n      },\n      dialogType:'add',\n      payment_id:''\n    }\n  },\n  methods: {\n    getPaymentMethod() {\n      SystemManager.getPaymentMethod(this.token).then(data => {\n        this.tableData = data.data;\n      })\n    },\n    showDialog() {\n      this.editPaymentForm={\n        name:'',\n        code:'',\n        is_open: false\n      }\n      this.dialogFormVisible = true;\n      this.dialogType = 'add'\n    },\n    closeDialog(){\n      this.dialogFormVisible = false;\n    },\n    createPaymentMethod() {\n      const postData = toJsonData.JsonData(this.editPaymentForm);\n      if(this.dialogType == 'add'){\n        SystemManager.createPaymentMethod(postData,this.token).then(data => {\n          this.$message({\n            message: data.data.log,\n            type: 'success'\n          })\n          this.closeDialog()\n          this.getPaymentMethod();\n\n        }).catch(error=> {\n          console.log(error)\n        })\n      }else{\n        SystemManager.editPaymentMethod(this.payment_id,postData, this.token).then(data => {\n          this.$message({\n            message: data.data.log,\n            type: 'success'\n          })\n          this.closeDialog()\n          this.getPaymentMethod();\n        }).catch(error=> {\n          console.log(error)\n        })\n      }\n\n    },\n    editPaymentMethod(row) {\n      this.dialogType = 'edit';\n      this.dialogFormVisible = true;\n      this.payment_id = row.payment_id;\n      var isOpen = false;\n\n      if(row.is_open == 'true') {\n        isOpen = true\n      }else{\n        isOpen = false\n      }\n      this.editPaymentForm={\n        name:row.name,\n        code:row.code,\n        is_open: isOpen\n      }\n    }\n  },\n  created() {\n    this.getPaymentMethod();\n  }\n}\n",null]}
{"remainingRequest":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\goldordermanager\\gold-order-detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\goldordermanager\\gold-order-detail.vue","mtime":1578722246796},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Sales from '@/api/sales'\nimport { getToken} from  '@/utils/auth'\nimport toJsonData from '@/api/jsonformdata'\nexport default {\n  name:'gold-order-detail',\n  data() {\n    return{\n      formLabelWidth:'90px',\n      token:getToken(),\n      orderId:'',\n      tableData:'',\n      descData:[],\n      dataArr2:[],\n      formInline: {\n        note:''\n      },\n      tableList:[],\n      emailList:[],\n      activeName:'first'\n    }\n  },\n  methods:{\n      getOrderDetail(){\n        Sales.getOrderDetail(this.orderId,this.token).then(data => {\n          this.tableData = data.data;\n          console.log(this.tableData)\n          this.tableList = this.tableData.list\n          this.emailList = this.tableData.email_list;\n          for(let key in this.tableData.log.desc){\n            const value = this.tableData.log.desc[key];\n            const Obj ={};\n            Obj[key] = value\n            this.dataArr2 = this.dataArr2.concat(JSON.stringify(Obj).replace(\"{\",\"\").replace(\"}\",\"\").replace('\"',\"\").replace('\"',\"\").split('</br>'));\n          }\n        })\n      },\n    addOrderLog() {\n        const postData = toJsonData.JsonData(this.formInline);\n        Sales.addOrderLog(postData,this.orderId,this.token).then(data => {\n          this.$message({\n            message: data.data.log,\n            type: 'success'\n          })\n          this.getOrderDetail();\n          this.formInline={\n            note:''\n          }\n        })\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    if (to.name == 'goldOrderManager') {\n      to.meta.isUseCache = true;\n    }\n    next();\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.orderId = this.$route.query.id;\n      },\n      immediate: true\n    }\n  },\n  created() {\n    this.getOrderDetail();\n  }\n}\n",null]}
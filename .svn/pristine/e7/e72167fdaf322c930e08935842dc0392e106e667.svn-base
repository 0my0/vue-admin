{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-010d46bc\"],{\"1f1d\":function(e,t,a){\"use strict\";var n=a(\"8451\"),i=a.n(n);i.a},\"782e\":function(e,t,a){\"use strict\";a(\"456d\"),a(\"ac6a\");t[\"a\"]={JsonData:function(e){var t=new FormData;return Object.keys(e).forEach(function(a){t.append(\"data[\"+a+\"]\",e[a])}),t}}},8451:function(e,t,a){},\"8c27\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-row\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.handleAddSite}},[e._v(\"添加游戏\")]),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"添加/修改游戏\",visible:e.dialogEditFormVisible,title:\"add\"===e.dialogType?\"添加游戏\":\"修改游戏\"},on:{\"update:visible\":function(t){e.dialogEditFormVisible=t}}},[a(\"el-form\",{attrs:{model:e.editGameForm}},[a(\"el-form-item\",{attrs:{label:\"英文名称\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editGameForm.title,callback:function(t){e.$set(e.editGameForm,\"title\",t)},expression:\"editGameForm.title\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"sku\",\"label-width\":e.formLabelWidth}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editGameForm.sku_game,callback:function(t){e.$set(e.editGameForm,\"sku_game\",t)},expression:\"editGameForm.sku_game\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"\",\"label-width\":e.formLabelWidth}},[a(\"el-checkbox-group\",{model:{value:e.editGameForm.is_hidden,callback:function(t){e.$set(e.editGameForm,\"is_hidden\",t)},expression:\"editGameForm.is_hidden\"}},e._l(e.isHidden,function(e,t){return a(\"el-checkbox\",{attrs:{label:e.is_hidden,value:1}})}),1)],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.dialogEditFormVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.createGame}},[e._v(\"确 定\")])],1)],1)],1),e._v(\" \"),a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData,border:\"\",\"row-class-name\":e.tableRowClassName},on:{\"row-contextmenu\":e.rightClick}},[a(\"el-table-column\",{attrs:{prop:\"game_id\",label:\"编码\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"title\",label:\"英文名称\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"sku_game\",label:\"sku\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"dateline\",label:\"添加时间\",width:\"180\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"admin_name\",label:\"操作人\",width:\"180\"}})],1),e._v(\" \"),a(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.optionVisible,expression:\"optionVisible\"}],staticClass:\"contextmenu\",style:{left:e.left+\"px\",top:e.top+\"px\"}},[a(\"li\",{on:{click:e.handleEditGame}},[e._v(\"修改游戏\")])])],1)},i=[],o=a(\"e2da\"),l=a(\"5f87\"),r=a(\"782e\"),c={name:\"game-server\",data:function(){return{dialogType:\"add\",tableData:[],token:Object(l[\"a\"])(),dialogEditFormVisible:!1,formLabelWidth:\"120px\",optionVisible:!1,editGameForm:{title:\"\",sku_game:\"\",is_hidden:!1},gameId:\"\",left:\"0px\",top:\"0px\",isHidden:[{is_hidden:\"禁用此游戏\"}]}},methods:{handleAddSite:function(){this.dialogType=\"add\",this.dialogEditFormVisible=!0},handleEditGame:function(){this.dialogType=\"edit\",this.dialogEditFormVisible=!0},rightClick:function(e,t,a){a.preventDefault(),this.publicMenu(a);var n=!1;n=\"0\"===e.is_hidden,this.gameId=e.game_id,this.editGameForm={title:e.title,sku_game:e.sku_game,is_hidden:n},this.optionVisible=!0},publicMenu:function(e){var t=105,a=this.$el.getBoundingClientRect().left,n=this.$el.offsetWidth,i=n-t,o=e.clientX-a+15;this.left=o>i?i:o,this.top=e.clientY-80},tableRowClassName:function(e){var t=e.row;e.rowIndex;return\"0\"===t.is_hidden?\"hidden_row\":\"\"},createGame:function(){var e=this,t=r[\"a\"].JsonData(this.editGameForm),a=\"add\"===this.dialogType;a?o[\"a\"].createGame(t,this.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getGameIndex(),e.closeDialog()}):o[\"a\"].editGame(t,this.gameId,this.token).then(function(t){e.$message({message:t.data.log,type:\"success\"}),e.getGameIndex(),e.closeDialog()}),this.editGameForm={title:\"\",sku_game:\"\",is_hidden:!1}},getGameIndex:function(){var e=this;o[\"a\"].getGameIndex(this.token).then(function(t){e.tableData=t.data}).catch(function(e){console.log(e)})},closeDialog:function(){this.dialogEditFormVisible=!1},closeMenu:function(){this.optionVisible=!1}},created:function(){this.getGameIndex()},watch:{optionVisible:function(e){e?document.body.addEventListener(\"click\",this.closeMenu):document.body.removeEventListener(\"click\",this.closeMenu)}}},d=c,u=(a(\"1f1d\"),a(\"2877\")),s=Object(u[\"a\"])(d,n,i,!1,null,\"0c082768\",null);t[\"default\"]=s.exports},b0b4:function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return l});var n=a(\"85f2\"),i=a.n(n);function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),i()(e,n.key,n)}}function l(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}},d225:function(e,t,a){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}a.d(t,\"a\",function(){return n})},e2da:function(e,t,a){\"use strict\";var n=a(\"d225\"),i=a(\"b0b4\"),o=a(\"b775\"),l=function(){function e(){Object(n[\"a\"])(this,e)}return Object(i[\"a\"])(e,[{key:\"getRoleIndex\",value:function(e){return Object(o[\"a\"])({url:\"/role/index\",method:\"get\",params:{token:e}})}},{key:\"createRole\",value:function(e,t){return Object(o[\"a\"])({url:\"/role/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"deleteRole\",value:function(e,t){return Object(o[\"a\"])({url:\"/role/delete\",method:\"get\",params:{role_id:e,token:t}})}},{key:\"getAdminIndex\",value:function(e,t){return Object(o[\"a\"])({url:\"/admin/index\",method:\"get\",params:{role_id:e,token:t}})}},{key:\"createPerson\",value:function(e,t){return Object(o[\"a\"])({url:\"/admin/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"modifyPerson\",value:function(e,t,a){return Object(o[\"a\"])({url:\"/admin/edit?token=\".concat(t,\"&admin_id=\").concat(a),method:\"post\",data:e})}},{key:\"deletePerson\",value:function(e,t){return Object(o[\"a\"])({url:\"admin/delete\",method:\"get\",params:{admin_id:e,token:t}})}},{key:\"searchPeople\",value:function(e,t){return Object(o[\"a\"])({url:\"/admin/index?token=\".concat(t),method:\"post\",data:e})}},{key:\"getSiteIndex\",value:function(e){return Object(o[\"a\"])({url:\"/site/index\",method:\"get\",params:{token:e}})}},{key:\"createSite\",value:function(e,t){return Object(o[\"a\"])({url:\"/site/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"editSite\",value:function(e,t,a){return Object(o[\"a\"])({url:\"/site/edit?site_id=\".concat(t,\"&token=\").concat(a),method:\"post\",data:e})}},{key:\"deleteSite\",value:function(e,t){return Object(o[\"a\"])({url:\"/site/delete\",method:\"get\",params:{site_id:e,token:t}})}},{key:\"getCountryIndex\",value:function(e){return Object(o[\"a\"])({url:\"/country/index\",method:\"get\",params:{token:e}})}},{key:\"createCountry\",value:function(e,t){return Object(o[\"a\"])({url:\"/country/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"installCountry\",value:function(e){return Object(o[\"a\"])({url:\"/country/install\",method:\"get\",params:{token:e}})}},{key:\"editCountry\",value:function(e,t,a){return Object(o[\"a\"])({url:\"/country/edit?country_id=\".concat(t,\"&token=\").concat(a),method:\"post\",data:e})}},{key:\"deleteCountry\",value:function(e,t){return Object(o[\"a\"])({url:\"/country/delete\",method:\"get\",params:{country_id:e,token:t}})}},{key:\"getGameIndex\",value:function(e){return Object(o[\"a\"])({url:\"/game/index\",method:\"get\",params:{token:e}})}},{key:\"createGame\",value:function(e,t){return Object(o[\"a\"])({url:\"/game/create?token=\".concat(t),method:\"post\",data:e})}},{key:\"editGame\",value:function(e,t,a){return Object(o[\"a\"])({url:\"/game/edit?game_id=\".concat(t,\"&token=\").concat(a),method:\"post\",data:e})}},{key:\"getGameConfigIndex\",value:function(e,t){return Object(o[\"a\"])({url:\"/sitegame/edit\",method:\"get\",params:{site_id:e,token:t}})}},{key:\"saveGameConfigIndex\",value:function(e,t,a){return Object(o[\"a\"])({url:\"/sitegame/edit?site_id=\".concat(t,\"&token=\").concat(a),method:\"post\",data:e})}}]),e}();t[\"a\"]=new l}}]);","extractedComments":[]}
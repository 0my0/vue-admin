{"remainingRequest":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\gold-order-manager\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vueProject\\admin\\vue-element-admin\\src\\views\\sales\\first-hand\\gold-order-manager\\index.vue","mtime":1576741561449},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueProject\\admin\\vue-element-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"E:\\\\vueProject\\\\admin\\\\vue-element-admin\\\\node_modules\\\\@babel\\\\runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _systemManager = _interopRequireDefault(require(\"@/api/system-manager\"));\n\nvar _sales = _interopRequireDefault(require(\"@/api/sales\"));\n\nvar _auth = require(\"@/utils/auth\");\n\nvar _jsonformdata = _interopRequireDefault(require(\"@/api/jsonformdata\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'gold-order-manager',\n  data: function data() {\n    var _this = this;\n\n    return {\n      formInline: {\n        stime: '',\n        ltime: '',\n        site_id: [],\n        games: '',\n        code: [],\n        which_select: '',\n        select_value: '',\n        is_coupon: false,\n        status: []\n      },\n      currentPage: 1,\n      totalCount: 1,\n      pageSize: 50,\n      tableData: [],\n      statusData: [],\n      token: (0, _auth.getToken)(),\n      checSitekAll: false,\n      checkGameAll: false,\n      checkPaymentAll: false,\n      isIndeterminate: true,\n      formLabelWidth: '130px',\n      dialogTableVisible: false,\n      siteData: [],\n      gameData: [],\n      selectData: [{\n        title: '玩家邮箱',\n        name: 'email'\n      }, {\n        title: '订单号',\n        name: 'orderno'\n      }, {\n        title: '付款邮箱',\n        name: 'pay_email'\n      }, {\n        title: '付款姓名',\n        name: 'name'\n      }, {\n        title: 'Coupon',\n        name: 'coupon'\n      }],\n      paymentData: [],\n      pickerOptionsStart: {\n        disabledDate: function disabledDate(time) {\n          var endDateVal = new Date(_this.formInline.ltime).getTime();\n\n          if (endDateVal) {\n            return time.getTime() > endDateVal - 0;\n          }\n\n          return time.getTime() < Date.now() - 8.64e7;\n        }\n      },\n      pickerOptionsEnd: {\n        disabledDate: function disabledDate(time) {\n          var beginDateVal = new Date(_this.formInline.stime).getTime();\n\n          if (beginDateVal) {\n            return time.getTime() < beginDateVal - 0;\n          }\n        }\n      }\n    };\n  },\n  methods: {\n    handleCheckAllChange: function handleCheckAllChange(val) {\n      var siteId = [];\n      this.siteData.forEach(function (item) {\n        siteId.push(item.site_id);\n      });\n      this.formInline.site_id = val ? siteId : [];\n      this.isIndeterminate = false;\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.searchLimitOrder(val);\n    },\n    searchLimitOrder: function searchLimitOrder(val) {\n      var _this2 = this;\n\n      var postData = _jsonformdata.default.JsonData(this.formInline);\n\n      _sales.default.searchLimitOrder(postData, val, this.currentPage, this.token).then(function (data) {\n        _this2.tableData = data.data;\n        _this2.totalCount = parseInt(data.count);\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.searchPageOrder(val);\n    },\n    searchPageOrder: function searchPageOrder(val) {\n      var _this3 = this;\n\n      var postData = _jsonformdata.default.JsonData(this.formInline);\n\n      _sales.default.searchLimitOrder(postData, this.pageSize, val, this.token).then(function (data) {\n        _this3.tableData = data.data;\n        _this3.totalCount = parseInt(data.count);\n      });\n    },\n    handleCheckGameAllChange: function handleCheckGameAllChange(val) {\n      var games = [];\n      this.gameData.forEach(function (item) {\n        games.push(item.game_id);\n      });\n      this.formInline.games = val ? games : [];\n      this.isIndeterminate = false;\n    },\n    handleCheckPaymentAllChange: function handleCheckPaymentAllChange(val) {\n      var code = [];\n      this.paymentData.forEach(function (item) {\n        code.push(item.code);\n      });\n      this.formInline.code = val ? code : [];\n      this.isIndeterminate = false;\n    },\n    changeSelect: function changeSelect() {},\n    searchOrder: function searchOrder() {\n      var _this4 = this;\n\n      var postData = _jsonformdata.default.JsonData(this.formInline);\n\n      this.currentPage = 1;\n\n      _sales.default.searchOrder(postData, this.token).then(function (data) {\n        _this4.tableData = data.data;\n        _this4.totalCount = parseInt(data.count);\n      });\n    },\n    getAllstatus: function getAllstatus() {\n      var _this5 = this;\n\n      _sales.default.getAllstatus(this.token).then(function (data) {\n        _this5.statusData = data.data;\n      });\n    },\n    handleCheckedSiteChange: function handleCheckedSiteChange(value) {// let checkedCount = value.length;\n      // this.checSitekAll = checkedCount === this.siteData.length;\n      // this.isIndeterminate = checkedCount > 0 && checkedCount < this.siteData.length;\n    },\n    getGameIndex: function getGameIndex() {\n      var _this6 = this;\n\n      this.formInline.games = [];\n\n      _systemManager.default.getGameIndex(this.token).then(function (data) {\n        _this6.gameData = data.data;\n      });\n    },\n    getSiteIndex: function getSiteIndex() {\n      var _this7 = this;\n\n      _systemManager.default.getSiteIndex(this.token).then(function (data) {\n        _this7.siteData = data.data;\n      });\n    },\n    getPaymentMethod: function getPaymentMethod() {\n      var _this8 = this;\n\n      _systemManager.default.getPaymentMethod(this.token).then(function (data) {\n        _this8.paymentData = data.data;\n      });\n    },\n    getOrderIndex: function getOrderIndex() {\n      var _this9 = this;\n\n      _sales.default.getOrderIndex(this.token).then(function (data) {\n        _this9.tableData = data.data;\n        _this9.totalCount = parseInt(data.count);\n      });\n    }\n  },\n  created: function created() {\n    this.getSiteIndex();\n    this.getGameIndex();\n    this.getPaymentMethod();\n    this.getAllstatus();\n    this.getOrderIndex(); // this.formInline.which_select = this.selectData[0].title;\n  }\n};\nexports.default = _default;",null]}